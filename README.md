# UtakataView  / TANZAKU

短歌投稿サイト「 https://utakatanka.jp/ 」に投稿されている短歌を短冊状のカルーセル表示するシンプルなローカルビューアです。Python の簡易HTTPサーバーで utakatanka.jp をプロキシし、表示部は HTMLを読み込んだWebブラウザで表示します。

ブラウザですので普通のディスプレイ画面でも使えますが、主に縦長のサブディスプレイで表示させることを主眼に作成しています。

## 動作イメージ

https://x.com/auxps/status/2020773801060164059

## 必要要件

- Python 3.8 以降

## 起動方法

1. サーバーを起動します。

```bash
python server.py
```

2. ブラウザで次を開きます。

- http://127.0.0.1:8000

## 使い方

- Interval: 自動切り替えの間隔を変更します。
- Source: 「人気の歌」/「新しい歌」を切り替えます。トップページの表示から３０首の短歌をよみこみます。(現状トップページのみを読んでいます)
- 次を表示: 次の短歌を表示します。
- リスト再読み込み: Source一覧を再取得します。

## 仕組み

- `/api/tanka`: 一覧ページを取得します。
- `/api/tanka-page`: 個別ページを取得します。
- `/api/asset`: 画像やCSSなどのアセットを取得します。

## 注意事項
- https://utakatanka.jp/ さまのデータを勝手に使ういかんやつです。
- 外部サイト（https://utakatanka.jp/ さま）へのアクセスが必要です。
- 仕様変更により取得できなくなる可能性がとても大です。
